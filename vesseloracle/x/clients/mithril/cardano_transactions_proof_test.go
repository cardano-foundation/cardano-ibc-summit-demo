package mithril

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestCardanoTransactionsProofsMessageVerify01(t *testing.T) {
	ctpm := &CardanoTransactionsProofsMessage{
		CertificateHash: "d67670518453cbee0ddb0a03de9ba9557b7df09e9e32de748024c2f499626090",
		CertifiedTransactions: []*CardanoTransactionsSetProofMessagePart{
			{
				TransactionsHashes: []string{
					"8489697b338a4b37a19f439a7ec072d6ad35a7e5b6e8f32110415f1971dc1c53",
				},
				Proof: "7b226d61737465725f70726f6f66223a7b22696e6e65725f726f6f74223a7b2268617368223a5b39322c3135352c392c3230372c302c33322c31322c3233372c38342c3233312c33382c3137382c37332c35312c3230362c32312c3135372c312c35382c32392c3230372c3233392c33332c3130312c3234382c32302c36322c37352c3130342c3134392c34382c3234305d7d2c22696e6e65725f6c6561766573223a5b5b34312c7b2268617368223a5b38382c3232322c3235332c3138352c3133322c3131342c3234342c3136392c3135362c3232342c31362c32342c32392c3138332c3132312c31322c36312c3135342c3134362c3131362c3133322c3137322c3136382c34342c38312c39342c35352c3235332c31302c3232342c3137322c3235305d7d5d5d2c22696e6e65725f70726f6f665f73697a65223a34322c22696e6e65725f70726f6f665f6974656d73223a5b7b2268617368223a5b3132362c3231302c3137332c3137332c3136372c3136382c39352c332c34302c3235352c39322c33362c38392c39332c31382c33382c35342c36362c3139302c35372c3134312c3231392c3235342c38322c38372c3134342c3235302c322c35352c3233332c332c3234345d7d2c7b2268617368223a5b3136342c39322c3230362c3134392c3132332c3137302c32382c3136322c38302c39362c3136302c3136382c3139382c34362c3231342c3134322c3233302c3135322c36382c3139352c3232352c3232362c3139322c3136312c3130392c31362c33392c3138392c31342c3136302c3134372c31365d7d2c7b2268617368223a5b36352c32332c3232342c3138352c3233312c34392c31392c3131392c3133382c39362c322c3231342c35342c3130392c3230332c3137322c3130322c3134382c3134392c35342c3131362c3230382c38332c39322c38372c32312c37352c32352c3138342c34302c3133322c32355d7d5d7d2c227375625f70726f6f6673223a5b5b7b22696e6e65725f72616e6765223a7b227374617274223a3334352c22656e64223a3336307d7d2c7b226d61737465725f70726f6f66223a7b22696e6e65725f726f6f74223a7b2268617368223a5b3139352c3235342c3138332c3133342c3230382c3137382c38342c38352c3234352c38302c3230302c3233302c39312c3230372c3133332c34322c3232372c3234322c3231332c38332c3138352c322c31332c3233372c3231302c36352c38362c3234392c3231312c3135312c3137312c35385d7d2c22696e6e65725f6c6561766573223a5b5b31382c7b2268617368223a5b35362c35322c35362c35372c35342c35372c35352c39382c35312c35312c35362c39372c35322c39382c35312c35352c39372c34392c35372c3130322c35322c35312c35372c39372c35352c3130312c39392c34382c35352c35302c3130302c35342c39372c3130302c35312c35332c39372c35352c3130312c35332c39382c35342c3130312c35362c3130322c35312c35302c34392c34392c34382c35322c34392c35332c3130322c34392c35372c35352c34392c3130302c39392c34392c39392c35332c35315d7d5d5d2c22696e6e65725f70726f6f665f73697a65223a33392c22696e6e65725f70726f6f665f6974656d73223a5b7b2268617368223a5b35332c35342c3130302c39382c35362c35372c35302c39382c39392c35322c34382c35312c35342c35322c35312c35332c35312c39372c34392c35342c34382c35312c34382c35362c39392c3130312c3130312c35372c3130322c3130302c39382c35342c35342c35352c35302c3130302c35322c3130312c35352c39372c35362c35342c39382c35342c35332c35372c35332c35362c35332c3130302c3130302c39372c39392c35332c39392c39372c35302c39392c35362c35352c35322c35332c3130322c3130325d7d2c7b2268617368223a5b35332c3133332c39382c39342c3235302c3234352c382c32302c3132362c38332c37312c39382c32332c33392c32322c3139372c3133322c3137332c332c3130372c31332c35312c3132342c352c3231372c3135302c3132312c33352c3135312c3132372c33302c3133395d7d2c7b2268617368223a5b3139312c32312c39372c39372c36332c3230322c35382c3138392c3138362c33372c3130312c37342c3132392c33322c3132312c3230382c35332c37362c32352c312c3130362c3234332c3137392c3133312c3138362c36372c3130392c3138322c3234312c3234392c39342c35375d7d2c7b2268617368223a5b34322c34342c3233382c3130312c3134382c33362c3134342c37332c342c3231322c34362c36302c3230372c3132302c3233362c3131302c32372c31392c3231392c35352c3231352c31312c3133362c3137392c3138372c3234352c36362c38322c3234382c3232322c38382c3231365d7d2c7b2268617368223a5b3234362c37362c35342c39382c3137392c38372c3139392c3231302c31392c3136352c31372c3132362c32332c34302c3137392c3136372c3230362c3137312c3235312c3139372c31382c34312c39382c3139342c37332c3230382c3133362c3139392c3133342c39342c3139332c3133345d7d5d7d2c227375625f70726f6f6673223a5b5d7d5d5d7d",
			},
		},
		NonCertifiedTransactions: []string{},
		LatestBlockNumber:        17,
	}
	verifiedtTx, err := ctpm.Verify()
	assert.NoError(t, err)
	assert.NotNil(t, verifiedtTx)
}
